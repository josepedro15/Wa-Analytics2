import{j as e}from"./ui-B2Y7o2X1.js";import{u as d}from"./useQuery-CdAOd0lP.js";import{s as u,u as x,B as l}from"./index-BYGJTMIk.js";import{C as n,R as o}from"./icons-BPYBiv7x.js";import"./vendor-BsBmf7g_.js";import"./utils-CftW5NT4.js";import"./router-Bs1VKYaT.js";function f(){return d({queryKey:["html-data"],queryFn:async()=>{const{data:s,error:t}=await u.from("html").select("*").order("id",{ascending:!1});if(t)throw t;return s||[]},staleTime:5*60*1e3,refetchOnWindowFocus:!1})}function w(){const{toast:s}=x(),{data:t,isLoading:m,error:i,refetch:c}=f(),a=()=>{c(),s({title:"Dados atualizados",description:"HTML foi atualizado com sucesso."})};if(m)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Carregando HTML..."})]})});if(i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[e.jsx("div",{className:"h-16 w-16 bg-destructive/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(n,{className:"h-8 w-8 text-destructive"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Erro ao carregar HTML"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Não foi possível carregar o HTML da tabela."}),e.jsxs(l,{onClick:a,className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4"}),"Tentar novamente"]})]})});const r=t&&t.length>0?t[0]:null;return r?e.jsx("div",{dangerouslySetInnerHTML:{__html:r.html},className:"w-full"}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[e.jsx("div",{className:"h-16 w-16 bg-muted/10 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(n,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum HTML encontrado"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Não há HTMLs disponíveis na tabela."}),e.jsxs(l,{onClick:a,className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4"}),"Atualizar"]})]})})}export{w as default};
