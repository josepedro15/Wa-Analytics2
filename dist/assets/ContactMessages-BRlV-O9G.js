import{c as _t,a as Mt,k as Ke,u as G,j as e,A as At,P as V,f as E,h as J,E as kt,F as Dt,G as Lt,H as Ot,D as Bt,C as Vt,m as Ae,l as Ht,e as Ut,I as Ft,b as De,n as Wt,g as $t,J as Kt}from"./ui-B2Y7o2X1.js";import{r,b as ze}from"./vendor-BsBmf7g_.js";import{h as zt,V as Gt,g as Q,b as qt,u as Yt,B as X,C as ce,f as de,c as Le,d as Oe,e as Xt,a as Be,D as Zt,i as Jt,j as Qt,k as es,l as ts,m as ss}from"./index-BYGJTMIk.js";import{I as rs}from"./input-CJFPxKXQ.js";import{u as as,T as ns}from"./useContactMessages-B4pfNUfM.js";import{S as me}from"./skeleton-BPQa0ql-.js";import{a9 as Ge,aa as os,t as ls,s as is,g as he,f as Ve,ab as ye,C as cs,y as ds,a6 as ms,R as us,a8 as ps,m as hs,ac as xs,ad as fs,M as He,Q as gs,r as Ce,ae as Ue,af as vs}from"./icons-BPYBiv7x.js";import{u as js}from"./router-Bs1VKYaT.js";import"./utils-CftW5NT4.js";import"./useQuery-CdAOd0lP.js";import"./useMutation-DkpW_JRO.js";function Fe(s,[a,t]){return Math.min(t,Math.max(a,s))}var ws=[" ","Enter","ArrowUp","ArrowDown"],Ns=[" ","Enter"],oe="Select",[ve,je,bs]=_t(oe),[ue,cr]=Mt(oe,[bs,Ke]),we=Ke(),[Ss,ee]=ue(oe),[ys,Cs]=ue(oe),qe=s=>{const{__scopeSelect:a,children:t,open:n,defaultOpen:c,onOpenChange:u,value:d,defaultValue:l,onValueChange:i,dir:o,name:v,autoComplete:j,disabled:T,required:I,form:S}=s,h=we(a),[g,w]=r.useState(null),[p,x]=r.useState(null),[A,k]=r.useState(!1),se=Ft(o),[P,H]=De({prop:n,defaultProp:c??!1,onChange:u,caller:oe}),[M,q]=De({prop:d,defaultProp:l,onChange:i,caller:oe}),D=r.useRef(null),W=g?S||!!g.closest("form"):!0,[$,U]=r.useState(new Set),F=Array.from($).map(R=>R.props.value).join(";");return e.jsx(Wt,{...h,children:e.jsxs(Ss,{required:I,scope:a,trigger:g,onTriggerChange:w,valueNode:p,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:Ae(),value:M,onValueChange:q,open:P,onOpenChange:H,dir:se,triggerPointerDownPosRef:D,disabled:T,children:[e.jsx(ve.Provider,{scope:a,children:e.jsx(ys,{scope:s.__scopeSelect,onNativeOptionAdd:r.useCallback(R=>{U(L=>new Set(L).add(R))},[]),onNativeOptionRemove:r.useCallback(R=>{U(L=>{const O=new Set(L);return O.delete(R),O})},[]),children:t})}),W?e.jsxs(vt,{"aria-hidden":!0,required:I,tabIndex:-1,name:v,autoComplete:j,value:M,onChange:R=>q(R.target.value),disabled:T,form:S,children:[M===void 0?e.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};qe.displayName=oe;var Ye="SelectTrigger",Xe=r.forwardRef((s,a)=>{const{__scopeSelect:t,disabled:n=!1,...c}=s,u=we(t),d=ee(Ye,t),l=d.disabled||n,i=G(a,d.onTriggerChange),o=je(t),v=r.useRef("touch"),[j,T,I]=wt(h=>{const g=o().filter(x=>!x.disabled),w=g.find(x=>x.value===d.value),p=Nt(g,h,w);p!==void 0&&d.onValueChange(p.value)}),S=h=>{l||(d.onOpenChange(!0),I()),h&&(d.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return e.jsx(At,{asChild:!0,...u,children:e.jsx(V.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":jt(d.value)?"":void 0,...c,ref:i,onClick:E(c.onClick,h=>{h.currentTarget.focus(),v.current!=="mouse"&&S(h)}),onPointerDown:E(c.onPointerDown,h=>{v.current=h.pointerType;const g=h.target;g.hasPointerCapture(h.pointerId)&&g.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(S(h),h.preventDefault())}),onKeyDown:E(c.onKeyDown,h=>{const g=j.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&T(h.key),!(g&&h.key===" ")&&ws.includes(h.key)&&(S(),h.preventDefault())})})})});Xe.displayName=Ye;var Ze="SelectValue",Je=r.forwardRef((s,a)=>{const{__scopeSelect:t,className:n,style:c,children:u,placeholder:d="",...l}=s,i=ee(Ze,t),{onValueNodeHasChildrenChange:o}=i,v=u!==void 0,j=G(a,i.onValueNodeChange);return J(()=>{o(v)},[o,v]),e.jsx(V.span,{...l,ref:j,style:{pointerEvents:"none"},children:jt(i.value)?e.jsx(e.Fragment,{children:d}):u})});Je.displayName=Ze;var Ts="SelectIcon",Qe=r.forwardRef((s,a)=>{const{__scopeSelect:t,children:n,...c}=s;return e.jsx(V.span,{"aria-hidden":!0,...c,ref:a,children:n||"▼"})});Qe.displayName=Ts;var Is="SelectPortal",et=s=>e.jsx($t,{asChild:!0,...s});et.displayName=Is;var le="SelectContent",tt=r.forwardRef((s,a)=>{const t=ee(le,s.__scopeSelect),[n,c]=r.useState();if(J(()=>{c(new DocumentFragment)},[]),!t.open){const u=n;return u?ze.createPortal(e.jsx(st,{scope:s.__scopeSelect,children:e.jsx(ve.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),u):null}return e.jsx(rt,{...s,ref:a})});tt.displayName=le;var z=10,[st,te]=ue(le),Ps="SelectContentImpl",Rs=Kt("SelectContent.RemoveScroll"),rt=r.forwardRef((s,a)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,side:l,sideOffset:i,align:o,alignOffset:v,arrowPadding:j,collisionBoundary:T,collisionPadding:I,sticky:S,hideWhenDetached:h,avoidCollisions:g,...w}=s,p=ee(le,t),[x,A]=r.useState(null),[k,se]=r.useState(null),P=G(a,f=>A(f)),[H,M]=r.useState(null),[q,D]=r.useState(null),W=je(t),[$,U]=r.useState(!1),F=r.useRef(!1);r.useEffect(()=>{if(x)return kt(x)},[x]),Dt();const R=r.useCallback(f=>{const[C,...B]=W().map(b=>b.ref.current),[y]=B.slice(-1),N=document.activeElement;for(const b of f)if(b===N||(b==null||b.scrollIntoView({block:"nearest"}),b===C&&k&&(k.scrollTop=0),b===y&&k&&(k.scrollTop=k.scrollHeight),b==null||b.focus(),document.activeElement!==N))return},[W,k]),L=r.useCallback(()=>R([H,x]),[R,H,x]);r.useEffect(()=>{$&&L()},[$,L]);const{onOpenChange:O,triggerPointerDownPosRef:m}=p;r.useEffect(()=>{if(x){let f={x:0,y:0};const C=y=>{var N,b;f={x:Math.abs(Math.round(y.pageX)-(((N=m.current)==null?void 0:N.x)??0)),y:Math.abs(Math.round(y.pageY)-(((b=m.current)==null?void 0:b.y)??0))}},B=y=>{f.x<=10&&f.y<=10?y.preventDefault():x.contains(y.target)||O(!1),document.removeEventListener("pointermove",C),m.current=null};return m.current!==null&&(document.addEventListener("pointermove",C),document.addEventListener("pointerup",B,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",B,{capture:!0})}}},[x,O,m]),r.useEffect(()=>{const f=()=>O(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[O]);const[_,Z]=wt(f=>{const C=W().filter(N=>!N.disabled),B=C.find(N=>N.ref.current===document.activeElement),y=Nt(C,f,B);y&&setTimeout(()=>y.ref.current.focus())}),re=r.useCallback((f,C,B)=>{const y=!F.current&&!B;(p.value!==void 0&&p.value===C||y)&&(M(f),y&&(F.current=!0))},[p.value]),ie=r.useCallback(()=>x==null?void 0:x.focus(),[x]),Y=r.useCallback((f,C,B)=>{const y=!F.current&&!B;(p.value!==void 0&&p.value===C||y)&&D(f)},[p.value]),fe=n==="popper"?Te:at,pe=fe===Te?{side:l,sideOffset:i,align:o,alignOffset:v,arrowPadding:j,collisionBoundary:T,collisionPadding:I,sticky:S,hideWhenDetached:h,avoidCollisions:g}:{};return e.jsx(st,{scope:t,content:x,viewport:k,onViewportChange:se,itemRefCallback:re,selectedItem:H,onItemLeave:ie,itemTextRefCallback:Y,focusSelectedItem:L,selectedItemText:q,position:n,isPositioned:$,searchRef:_,children:e.jsx(Lt,{as:Rs,allowPinchZoom:!0,children:e.jsx(Ot,{asChild:!0,trapped:p.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:E(c,f=>{var C;(C=p.trigger)==null||C.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(Bt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:f=>f.preventDefault(),...w,...pe,onPlaced:()=>U(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:E(w.onKeyDown,f=>{const C=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!C&&f.key.length===1&&Z(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let y=W().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(f.key)&&(y=y.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const N=f.target,b=y.indexOf(N);y=y.slice(b+1)}setTimeout(()=>R(y)),f.preventDefault()}})})})})})})});rt.displayName=Ps;var Es="SelectItemAlignedPosition",at=r.forwardRef((s,a)=>{const{__scopeSelect:t,onPlaced:n,...c}=s,u=ee(le,t),d=te(le,t),[l,i]=r.useState(null),[o,v]=r.useState(null),j=G(a,P=>v(P)),T=je(t),I=r.useRef(!1),S=r.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:w,focusSelectedItem:p}=d,x=r.useCallback(()=>{if(u.trigger&&u.valueNode&&l&&o&&h&&g&&w){const P=u.trigger.getBoundingClientRect(),H=o.getBoundingClientRect(),M=u.valueNode.getBoundingClientRect(),q=w.getBoundingClientRect();if(u.dir!=="rtl"){const N=q.left-H.left,b=M.left-N,ae=P.left-b,ne=P.width+ae,Ne=Math.max(ne,H.width),be=window.innerWidth-z,Se=Fe(b,[z,Math.max(z,be-Ne)]);l.style.minWidth=ne+"px",l.style.left=Se+"px"}else{const N=H.right-q.right,b=window.innerWidth-M.right-N,ae=window.innerWidth-P.right-b,ne=P.width+ae,Ne=Math.max(ne,H.width),be=window.innerWidth-z,Se=Fe(b,[z,Math.max(z,be-Ne)]);l.style.minWidth=ne+"px",l.style.right=Se+"px"}const D=T(),W=window.innerHeight-z*2,$=h.scrollHeight,U=window.getComputedStyle(o),F=parseInt(U.borderTopWidth,10),R=parseInt(U.paddingTop,10),L=parseInt(U.borderBottomWidth,10),O=parseInt(U.paddingBottom,10),m=F+R+$+O+L,_=Math.min(g.offsetHeight*5,m),Z=window.getComputedStyle(h),re=parseInt(Z.paddingTop,10),ie=parseInt(Z.paddingBottom,10),Y=P.top+P.height/2-z,fe=W-Y,pe=g.offsetHeight/2,f=g.offsetTop+pe,C=F+R+f,B=m-C;if(C<=Y){const N=D.length>0&&g===D[D.length-1].ref.current;l.style.bottom="0px";const b=o.clientHeight-h.offsetTop-h.offsetHeight,ae=Math.max(fe,pe+(N?ie:0)+b+L),ne=C+ae;l.style.height=ne+"px"}else{const N=D.length>0&&g===D[0].ref.current;l.style.top="0px";const ae=Math.max(Y,F+h.offsetTop+(N?re:0)+pe)+B;l.style.height=ae+"px",h.scrollTop=C-Y+h.offsetTop}l.style.margin=`${z}px 0`,l.style.minHeight=_+"px",l.style.maxHeight=W+"px",n==null||n(),requestAnimationFrame(()=>I.current=!0)}},[T,u.trigger,u.valueNode,l,o,h,g,w,u.dir,n]);J(()=>x(),[x]);const[A,k]=r.useState();J(()=>{o&&k(window.getComputedStyle(o).zIndex)},[o]);const se=r.useCallback(P=>{P&&S.current===!0&&(x(),p==null||p(),S.current=!1)},[x,p]);return e.jsx(Ms,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:I,onScrollButtonChange:se,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(V.div,{...c,ref:j,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});at.displayName=Es;var _s="SelectPopperPosition",Te=r.forwardRef((s,a)=>{const{__scopeSelect:t,align:n="start",collisionPadding:c=z,...u}=s,d=we(t);return e.jsx(Vt,{...d,...u,ref:a,align:n,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Te.displayName=_s;var[Ms,ke]=ue(le,{}),Ie="SelectViewport",nt=r.forwardRef((s,a)=>{const{__scopeSelect:t,nonce:n,...c}=s,u=te(Ie,t),d=ke(Ie,t),l=G(a,u.onViewportChange),i=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(ve.Slot,{scope:t,children:e.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:E(c.onScroll,o=>{const v=o.currentTarget,{contentWrapper:j,shouldExpandOnScrollRef:T}=d;if(T!=null&&T.current&&j){const I=Math.abs(i.current-v.scrollTop);if(I>0){const S=window.innerHeight-z*2,h=parseFloat(j.style.minHeight),g=parseFloat(j.style.height),w=Math.max(h,g);if(w<S){const p=w+I,x=Math.min(S,p),A=p-x;j.style.height=x+"px",j.style.bottom==="0px"&&(v.scrollTop=A>0?A:0,j.style.justifyContent="flex-end")}}}i.current=v.scrollTop})})})]})});nt.displayName=Ie;var ot="SelectGroup",[As,ks]=ue(ot),Ds=r.forwardRef((s,a)=>{const{__scopeSelect:t,...n}=s,c=Ae();return e.jsx(As,{scope:t,id:c,children:e.jsx(V.div,{role:"group","aria-labelledby":c,...n,ref:a})})});Ds.displayName=ot;var lt="SelectLabel",it=r.forwardRef((s,a)=>{const{__scopeSelect:t,...n}=s,c=ks(lt,t);return e.jsx(V.div,{id:c.id,...n,ref:a})});it.displayName=lt;var ge="SelectItem",[Ls,ct]=ue(ge),dt=r.forwardRef((s,a)=>{const{__scopeSelect:t,value:n,disabled:c=!1,textValue:u,...d}=s,l=ee(ge,t),i=te(ge,t),o=l.value===n,[v,j]=r.useState(u??""),[T,I]=r.useState(!1),S=G(a,p=>{var x;return(x=i.itemRefCallback)==null?void 0:x.call(i,p,n,c)}),h=Ae(),g=r.useRef("touch"),w=()=>{c||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ls,{scope:t,value:n,disabled:c,textId:h,isSelected:o,onItemTextChange:r.useCallback(p=>{j(x=>x||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(ve.ItemSlot,{scope:t,value:n,disabled:c,textValue:v,children:e.jsx(V.div,{role:"option","aria-labelledby":h,"data-highlighted":T?"":void 0,"aria-selected":o&&T,"data-state":o?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...d,ref:S,onFocus:E(d.onFocus,()=>I(!0)),onBlur:E(d.onBlur,()=>I(!1)),onClick:E(d.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:E(d.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:E(d.onPointerDown,p=>{g.current=p.pointerType}),onPointerMove:E(d.onPointerMove,p=>{var x;g.current=p.pointerType,c?(x=i.onItemLeave)==null||x.call(i):g.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:E(d.onPointerLeave,p=>{var x;p.currentTarget===document.activeElement&&((x=i.onItemLeave)==null||x.call(i))}),onKeyDown:E(d.onKeyDown,p=>{var A;((A=i.searchRef)==null?void 0:A.current)!==""&&p.key===" "||(Ns.includes(p.key)&&w(),p.key===" "&&p.preventDefault())})})})})});dt.displayName=ge;var xe="SelectItemText",mt=r.forwardRef((s,a)=>{const{__scopeSelect:t,className:n,style:c,...u}=s,d=ee(xe,t),l=te(xe,t),i=ct(xe,t),o=Cs(xe,t),[v,j]=r.useState(null),T=G(a,w=>j(w),i.onItemTextChange,w=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,w,i.value,i.disabled)}),I=v==null?void 0:v.textContent,S=r.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:I},i.value),[i.disabled,i.value,I]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=o;return J(()=>(h(S),()=>g(S)),[h,g,S]),e.jsxs(e.Fragment,{children:[e.jsx(V.span,{id:i.textId,...u,ref:T}),i.isSelected&&d.valueNode&&!d.valueNodeHasChildren?ze.createPortal(u.children,d.valueNode):null]})});mt.displayName=xe;var ut="SelectItemIndicator",pt=r.forwardRef((s,a)=>{const{__scopeSelect:t,...n}=s;return ct(ut,t).isSelected?e.jsx(V.span,{"aria-hidden":!0,...n,ref:a}):null});pt.displayName=ut;var Pe="SelectScrollUpButton",ht=r.forwardRef((s,a)=>{const t=te(Pe,s.__scopeSelect),n=ke(Pe,s.__scopeSelect),[c,u]=r.useState(!1),d=G(a,n.onScrollButtonChange);return J(()=>{if(t.viewport&&t.isPositioned){let l=function(){const o=i.scrollTop>0;u(o)};const i=t.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(ft,{...s,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:i}=t;l&&i&&(l.scrollTop=l.scrollTop-i.offsetHeight)}}):null});ht.displayName=Pe;var Re="SelectScrollDownButton",xt=r.forwardRef((s,a)=>{const t=te(Re,s.__scopeSelect),n=ke(Re,s.__scopeSelect),[c,u]=r.useState(!1),d=G(a,n.onScrollButtonChange);return J(()=>{if(t.viewport&&t.isPositioned){let l=function(){const o=i.scrollHeight-i.clientHeight,v=Math.ceil(i.scrollTop)<o;u(v)};const i=t.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(ft,{...s,ref:d,onAutoScroll:()=>{const{viewport:l,selectedItem:i}=t;l&&i&&(l.scrollTop=l.scrollTop+i.offsetHeight)}}):null});xt.displayName=Re;var ft=r.forwardRef((s,a)=>{const{__scopeSelect:t,onAutoScroll:n,...c}=s,u=te("SelectScrollButton",t),d=r.useRef(null),l=je(t),i=r.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return r.useEffect(()=>()=>i(),[i]),J(()=>{var v;const o=l().find(j=>j.ref.current===document.activeElement);(v=o==null?void 0:o.ref.current)==null||v.scrollIntoView({block:"nearest"})},[l]),e.jsx(V.div,{"aria-hidden":!0,...c,ref:a,style:{flexShrink:0,...c.style},onPointerDown:E(c.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(n,50))}),onPointerMove:E(c.onPointerMove,()=>{var o;(o=u.onItemLeave)==null||o.call(u),d.current===null&&(d.current=window.setInterval(n,50))}),onPointerLeave:E(c.onPointerLeave,()=>{i()})})}),Os="SelectSeparator",gt=r.forwardRef((s,a)=>{const{__scopeSelect:t,...n}=s;return e.jsx(V.div,{"aria-hidden":!0,...n,ref:a})});gt.displayName=Os;var Ee="SelectArrow",Bs=r.forwardRef((s,a)=>{const{__scopeSelect:t,...n}=s,c=we(t),u=ee(Ee,t),d=te(Ee,t);return u.open&&d.position==="popper"?e.jsx(Ht,{...c,...n,ref:a}):null});Bs.displayName=Ee;var Vs="SelectBubbleInput",vt=r.forwardRef(({__scopeSelect:s,value:a,...t},n)=>{const c=r.useRef(null),u=G(n,c),d=zt(a);return r.useEffect(()=>{const l=c.current;if(!l)return;const i=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(i,"value").set;if(d!==a&&v){const j=new Event("change",{bubbles:!0});v.call(l,a),l.dispatchEvent(j)}},[d,a]),e.jsx(V.select,{...t,style:{...Gt,...t.style},ref:u,defaultValue:a})});vt.displayName=Vs;function jt(s){return s===""||s===void 0}function wt(s){const a=Ut(s),t=r.useRef(""),n=r.useRef(0),c=r.useCallback(d=>{const l=t.current+d;a(l),function i(o){t.current=o,window.clearTimeout(n.current),o!==""&&(n.current=window.setTimeout(()=>i(""),1e3))}(l)},[a]),u=r.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,c,u]}function Nt(s,a,t){const c=a.length>1&&Array.from(a).every(o=>o===a[0])?a[0]:a,u=t?s.indexOf(t):-1;let d=Hs(s,Math.max(u,0));c.length===1&&(d=d.filter(o=>o!==t));const i=d.find(o=>o.textValue.toLowerCase().startsWith(c.toLowerCase()));return i!==t?i:void 0}function Hs(s,a){return s.map((t,n)=>s[(a+n)%s.length])}var Us=qe,bt=Xe,Fs=Je,Ws=Qe,$s=et,St=tt,Ks=nt,yt=it,Ct=dt,zs=mt,Gs=pt,Tt=ht,It=xt,Pt=gt;const We=Us,$e=Fs,_e=r.forwardRef(({className:s,children:a,...t},n)=>e.jsxs(bt,{ref:n,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...t,children:[a,e.jsx(Ws,{asChild:!0,children:e.jsx(Ge,{className:"h-4 w-4 opacity-50"})})]}));_e.displayName=bt.displayName;const Rt=r.forwardRef(({className:s,...a},t)=>e.jsx(Tt,{ref:t,className:Q("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(os,{className:"h-4 w-4"})}));Rt.displayName=Tt.displayName;const Et=r.forwardRef(({className:s,...a},t)=>e.jsx(It,{ref:t,className:Q("flex cursor-default items-center justify-center py-1",s),...a,children:e.jsx(Ge,{className:"h-4 w-4"})}));Et.displayName=It.displayName;const Me=r.forwardRef(({className:s,children:a,position:t="popper",...n},c)=>e.jsx($s,{children:e.jsxs(St,{ref:c,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:t,...n,children:[e.jsx(Rt,{}),e.jsx(Ks,{className:Q("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(Et,{})]})}));Me.displayName=St.displayName;const qs=r.forwardRef(({className:s,...a},t)=>e.jsx(yt,{ref:t,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a}));qs.displayName=yt.displayName;const K=r.forwardRef(({className:s,children:a,...t},n)=>e.jsxs(Ct,{ref:n,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Gs,{children:e.jsx(ls,{className:"h-4 w-4"})})}),e.jsx(zs,{children:a})]}));K.displayName=Ct.displayName;const Ys=r.forwardRef(({className:s,...a},t)=>e.jsx(Pt,{ref:t,className:Q("-mx-1 my-1 h-px bg-muted",s),...a}));Ys.displayName=Pt.displayName;const Xs=`
  @media (max-width: 640px) {
    .responsive-modal {
      width: 100vw !important;
      max-width: 100vw !important;
      height: 100vh !important;
      max-height: 100vh !important;
      margin: 0 !important;
      border-radius: 0 !important;
    }
  }
`;function Zs(s,a){const t=s.replace(/\D/g,""),n=t.startsWith("55")?t:`55${t}`,c=n.startsWith("550")?n.replace("550","55"):n,u=a?encodeURIComponent(a):"";return`https://wa.me/${c}${u?`?text=${u}`:""}`}function dr(){const{user:s}=qt(),{toast:a}=Yt(),t=js(),[n,c]=r.useState(""),[u,d]=r.useState("all"),[l,i]=r.useState("all"),[o,v]=r.useState(null),[j,T]=r.useState(""),[I,S]=r.useState(!1),g=["f4c09bd2-db18-44f3-8eb9-66a50e883b67","09961117-d889-4ed7-bfcf-cac6b5e4e5a6"].includes((s==null?void 0:s.id)||""),{messages:w,isLoadingMessages:p,messageStats:x,updateMessageStatus:A,deleteMessage:k,refetchMessages:se,isUpdatingStatus:P,isDeletingMessage:H}=as();r.useEffect(()=>{if(!s){t("/auth");return}if(!g){a({title:"Acesso Negado",description:"Você não tem permissão para acessar esta página.",variant:"destructive"}),t("/dashboard");return}},[s,t,g,a]);const M=(w==null?void 0:w.filter(m=>{var ie,Y;const _=m.name.toLowerCase().includes(n.toLowerCase())||m.email.toLowerCase().includes(n.toLowerCase())||((ie=m.company)==null?void 0:ie.toLowerCase().includes(n.toLowerCase()))||((Y=m.message)==null?void 0:Y.toLowerCase().includes(n.toLowerCase())),Z=u==="all"||m.status===u,re=l==="all"||m.priority===l;return _&&Z&&re}))||[],q=m=>{v(m),T(m.admin_notes||""),S(!0)},D=async(m,_)=>{await A({messageId:m,status:_,adminNotes:j}),S(!1)},W=async m=>{confirm("Tem certeza que deseja excluir esta mensagem?")&&await k(m)},$=(m,_)=>{const Z=`Olá ${_}! Vi sua mensagem no formulário de contato do MetricsIA. Como posso ajudar?`,re=Zs(m,Z);window.open(re,"_blank")},U=m=>{switch(m){case"pending":return e.jsx(Ve,{className:"h-4 w-4 text-orange-500"});case"read":return e.jsx(Ce,{className:"h-4 w-4 text-blue-500"});case"replied":return e.jsx(ye,{className:"h-4 w-4 text-green-500"});case"archived":return e.jsx(Ue,{className:"h-4 w-4 text-gray-500"});default:return e.jsx(he,{className:"h-4 w-4 text-gray-400"})}},F=m=>{switch(m){case"pending":return"Pendente";case"read":return"Lida";case"replied":return"Respondida";case"archived":return"Arquivada";default:return"Desconhecido"}},R=m=>{switch(m){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"normal":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=m=>{switch(m){case"urgent":return"Urgente";case"high":return"Alta";case"normal":return"Normal";case"low":return"Baixa";default:return"Normal"}},O=m=>new Date(m).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return!s||!g?null:e.jsxs(e.Fragment,{children:[e.jsx("style",{children:Xs}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:[e.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-xl supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(X,{variant:"ghost",onClick:()=>t("/admin"),className:"text-foreground hover:bg-muted transition-all duration-300 rounded-xl px-4 py-2",children:[e.jsx(is,{className:"h-5 w-5 mr-2"}),e.jsx("span",{className:"font-medium text-sm",children:"Voltar ao Admin"})]})}),e.jsxs("div",{className:"text-center flex-1 max-w-2xl mx-auto",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg mb-3",children:e.jsx(he,{className:"h-5 w-5 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold mb-2 text-foreground",children:"Mensagens de Contato"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-xl mx-auto leading-relaxed",children:"Gerencie e responda às mensagens enviadas pelos usuários"})]}),e.jsx("div",{className:"w-20"})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[x&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(ce,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:e.jsx(de,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/50 rounded-lg",children:e.jsx(he,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:x.total})]})]})})}),e.jsx(ce,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:e.jsx(de,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/50 rounded-lg",children:e.jsx(Ve,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pendentes"}),e.jsx("p",{className:"text-2xl font-bold",children:x.pending})]})]})})}),e.jsx(ce,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:e.jsx(de,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/50 rounded-lg",children:e.jsx(ye,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Respondidas"}),e.jsx("p",{className:"text-2xl font-bold",children:x.replied})]})]})})}),e.jsx(ce,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:e.jsx(de,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-lg",children:e.jsx(cs,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Urgentes"}),e.jsx("p",{className:"text-2xl font-bold",children:x.urgent})]})]})})})]}),e.jsxs(ce,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[e.jsx(Le,{children:e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5 text-primary"}),"Filtros e Busca"]})}),e.jsx(de,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ms,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(rs,{placeholder:"Buscar por nome, email, empresa ou mensagem...",value:n,onChange:m=>c(m.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(We,{value:u,onValueChange:m=>d(m),children:[e.jsx(_e,{children:e.jsx($e,{})}),e.jsxs(Me,{children:[e.jsx(K,{value:"all",children:"Todos os Status"}),e.jsx(K,{value:"pending",children:"Pendentes"}),e.jsx(K,{value:"read",children:"Lidas"}),e.jsx(K,{value:"replied",children:"Respondidas"}),e.jsx(K,{value:"archived",children:"Arquivadas"})]})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Prioridade"}),e.jsxs(We,{value:l,onValueChange:m=>i(m),children:[e.jsx(_e,{children:e.jsx($e,{})}),e.jsxs(Me,{children:[e.jsx(K,{value:"all",children:"Todas as Prioridades"}),e.jsx(K,{value:"urgent",children:"Urgente"}),e.jsx(K,{value:"high",children:"Alta"}),e.jsx(K,{value:"normal",children:"Normal"}),e.jsx(K,{value:"low",children:"Baixa"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(X,{variant:"outline",onClick:()=>se(),disabled:p,children:[e.jsx(us,{className:`h-4 w-4 mr-2 ${p?"animate-spin":""}`}),"Atualizar"]})})]})]})})]}),e.jsxs(ce,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[e.jsxs(Le,{children:[e.jsxs(Oe,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5 text-primary"}),"Mensagens (",M.length,")"]}),e.jsx(Xt,{children:M.length===0?"Nenhuma mensagem encontrada":`${M.length} mensagem(s) encontrada(s)`})]}),e.jsx(de,{children:p?e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((m,_)=>e.jsx("div",{className:"p-4 border border-border/50 rounded-lg bg-muted/20",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(me,{className:"h-8 w-8 rounded-lg"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{className:"h-4 w-48"}),e.jsx(me,{className:"h-3 w-32"})]})]}),e.jsx(me,{className:"h-3 w-40"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(me,{className:"h-8 w-8 rounded"}),e.jsx(me,{className:"h-8 w-8 rounded"})]})]})},_))}):M.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhuma mensagem encontrada"})]}):e.jsx("div",{className:"space-y-4",children:M.map(m=>e.jsx("div",{className:"p-4 border border-border/50 rounded-lg bg-muted/20 hover:bg-muted/30 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(ps,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:m.name}),e.jsx(Be,{variant:"outline",className:`text-xs ${R(m.priority)}`,children:L(m.priority)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"h-3 w-3"}),e.jsx("span",{children:m.email})]}),m.company&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{children:m.company})]}),m.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fs,{className:"h-3 w-3"}),e.jsx("span",{children:m.phone}),e.jsx(X,{variant:"ghost",size:"sm",onClick:_=>{_.stopPropagation(),$(m.phone,m.name)},className:"h-6 w-6 p-0 bg-green-50 hover:bg-green-100 text-green-600",children:e.jsx(He,{className:"h-3 w-3"})})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gs,{className:"h-3 w-3"}),e.jsx("span",{children:O(m.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[U(m.status),e.jsx("span",{children:F(m.status)})]})]}),m.message&&e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:m.message})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:e.jsxs(Zt,{children:[e.jsx(Jt,{asChild:!0,children:e.jsx(X,{variant:"outline",size:"sm",onClick:()=>q(m),children:e.jsx(Ce,{className:"h-4 w-4"})})}),e.jsxs(Qt,{className:"responsive-modal w-[98vw] max-w-3xl max-h-[95vh] overflow-y-auto p-4 sm:p-6 my-4",style:{marginTop:"2vh",marginBottom:"2vh"},children:[e.jsxs(es,{children:[e.jsx(ts,{children:"Detalhes da Mensagem"}),e.jsx(ss,{children:"Visualize e gerencie esta mensagem de contato"})]}),o&&e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Nome"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.email})]}),o.company&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Empresa"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:o.company})]}),o.phone&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Telefone"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:o.phone}),e.jsxs(X,{variant:"outline",size:"sm",onClick:()=>$(o.phone,o.name),className:"bg-green-50 hover:bg-green-100 text-green-700 border-green-200 hover:border-green-300",children:[e.jsx(He,{className:"h-4 w-4 mr-1"}),"WhatsApp"]})]})]})]}),o.message&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Mensagem"}),e.jsx("div",{className:"mt-2 p-3 bg-muted/50 rounded-lg",children:e.jsx("p",{className:"text-sm",children:o.message})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[U(o.status),e.jsx("span",{className:"text-sm",children:F(o.status)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Prioridade"}),e.jsx(Be,{variant:"outline",className:`mt-1 ${R(o.priority)}`,children:L(o.priority)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Enviada em"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:O(o.created_at)})]}),o.read_at&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Lida em"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:O(o.read_at)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Notas Administrativas"}),e.jsx(ns,{value:j,onChange:_=>T(_.target.value),placeholder:"Adicione notas sobre esta mensagem...",className:"mt-2 min-h-[60px]",rows:2})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-3 border-t space-y-2 sm:space-y-0",children:[e.jsxs(X,{variant:"outline",onClick:()=>D(o.id,"read"),disabled:P,className:"flex-1 sm:flex-none",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Marcar como Lida"]}),e.jsxs(X,{variant:"outline",onClick:()=>D(o.id,"replied"),disabled:P,className:"flex-1 sm:flex-none",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Marcar como Respondida"]}),e.jsxs(X,{variant:"outline",onClick:()=>D(o.id,"archived"),disabled:P,className:"flex-1 sm:flex-none",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Arquivar"]}),e.jsxs(X,{variant:"destructive",onClick:()=>W(o.id),disabled:H,className:"flex-1 sm:flex-none",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})]})})]})},m.id))})})]})]})]})]})}export{dr as default};
